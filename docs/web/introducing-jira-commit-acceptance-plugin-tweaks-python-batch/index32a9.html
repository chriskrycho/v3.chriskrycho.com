<!doctype html>
<html lang="en-US" class="no-wp-admin">

<!-- Mirrored from chriskrycho.com/web/introducing-jira-commit-acceptance-plugin-tweaks-python-batch/?replytocom=790 by HTTrack Website Copier/3.x [XR&CO'2013], Wed, 01 Jan 2014 03:23:56 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
   <title>
      Introducing: JIRA Commit Acceptance Plugin Tweaks (Python, Batch) &raquo; Designgineering &raquo; Chris Krycho   </title>

   <!-- Set document meta -->
   <meta charset="UTF-8" />

   <!-- Mobile devices should view the screen at their native width -->
   <meta name='viewport' content='width=device-width,initial-scale=1.0' />

   <!-- Styles -->
   <link rel="stylesheet" type="text/css" media="screen" href="../wp-content/themes/ck-web/style.css" />
   <link rel="stylesheet" type="text/css" media="screen" href="../../utilities/tooltip/jquery.tooltip.css"

   <!-- Authorship -->
   <link rel="author" href="https://plus.google.com/u/0/100517719789069874571/" />
   
   <!-- All Javascript (including JQuery) functionality -->
   <script type="text/javascript" src="http://use.typekit.com/aqh6miw.js"></script>

   <!-- jQuery -->
   <script type="text/javascript" src="../../utilities/jquery.min.js"></script>
   <script type="text/javascript" src="../../utilities/tooltip/jquery.tooltip.min.js"></script>
   <script type="text/javascript" src="../../utilities/custom-functions.js"></script>

   <!-- IE Fixes -->
   <!--[if lt IE 9]>
      <script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
      <link rel="stylesheet" type="text/css" media="screen" href="/styles/ie.css" />
   <![endif]-->
   
   
<!-- This site is optimized with the Yoast WordPress SEO plugin v1.4.22 - http://yoast.com/wordpress/seo/ -->
<meta name="description" content="An update to the languishing JIRA Commit Acceptance Plugin Python script. Bonus: Windows batch file to make it work with remote drives."/>
<link rel="canonical" href="index.html" />
<link rel="author" href="https://plus.google.com/100517719789069874571/"/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:site" content="@chriskrycho"/>
<meta name="twitter:domain" content="Designgineering"/>
<meta name="twitter:creator" content="@chriskrycho"/>
<meta name="twitter:description" content="An update to the languishing JIRA Commit Acceptance Plugin Python script. Bonus: Windows batch file to make it work with remote drives."/>
<meta name="twitter:title" content="Introducing: JIRA Commit Acceptance Plugin Tweaks (Python, Batch)"/>
<meta name="twitter:url" content="http://chriskrycho.com/web/introducing-jira-commit-acceptance-plugin-tweaks-python-batch/"/>
<!-- / Yoast WordPress SEO plugin. -->


            <script type="text/javascript">//<![CDATA[
            // Google Analytics for WordPress by Yoast v4.3.3 | http://yoast.com/wordpress/google-analytics/
            var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-10702079-9']);
				            _gaq.push(['_setCustomVar',1,'tags','batch-files commit-acceptance jira plugin python scripts sub',3],['_setCustomVar',2,'year','2012',3],['_setCustomVar',3,'category','tools-posts',3],['_trackPageview']);
            (function () {
                var ga = document.createElement('script');
                ga.type = 'text/javascript';
                ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';

                var s = document.getElementsByTagName('script')[0];
                s.parentNode.insertBefore(ga, s);
            })();
            //]]></script>
			<link rel="alternate" type="application/rss+xml" title="Designgineering &raquo; Introducing: JIRA Commit Acceptance Plugin Tweaks (Python, Batch) Comments Feed" href="feed/index.html" />
<link rel='stylesheet' id='wp-syntax-css-css'  href='../wp-content/plugins/wp-syntax/css/wp-syntax5152.css?ver=1.0' type='text/css' media='all' />
<script type='text/javascript' src='../wp-includes/js/comment-reply.mincaf6.js?ver=3.9-alpha'></script>
<script type='text/javascript' src='../wp-includes/js/jquery/jquery3e5a.js?ver=1.10.2'></script>
<script type='text/javascript' src='../wp-includes/js/jquery/jquery-migrate.min1576.js?ver=1.2.1'></script>
<meta name="generator" content="WordPress 3.9-alpha" />
<script type="text/javascript" src="../wp-content/plugins/wp-syntax-effects/js/wp-syntax-effects.js"></script>
</head>
<body>
<div id="decorative-wrapper">


   <!--[if lt IE 9]>
   <div id="nav-wrapper">
   <![endif]-->
   
   <nav id="site-nav" class="menu-main-nav-container"><ul id="menu-main-nav" class="menu"><li id="menu-item-12" class="level-1 menu-item menu-item-type-post_type menu-item-object-page menu-item-12"><a href="../work/index.html" >Work</a></li>
<li id="menu-item-219" class="level-1 menu-item menu-item-type-post_type menu-item-object-page menu-item-219"><a href="../tools/index.html" >Tools</a></li>
<li id="menu-item-858" class="level-1 menu-item menu-item-type-taxonomy menu-item-object-category menu-item-858"><a href="../projects/index.html" >Projects</a></li>
<li id="menu-item-11" class="level-1 hide menu-item menu-item-type-post_type menu-item-object-page menu-item-11"><a href="../process/index.html" >Process</a></li>
<li id="menu-item-10" class="level-1 menu-item menu-item-type-post_type menu-item-object-page menu-item-10"><a href="../web-professionals/index.html" >Web Professionals</a></li>
</ul></nav>   
   <!--[if lt IE 9]>
   </div>
   <![endif]-->

   <header id="site-header">
      <h1><a href="../index.html">Designgineering</a></h1>
      <h2><span class="italic">web design &amp; development <span class="break">by <a href='../../index.html'>Chris Krycho</a></span></span></h2>
   </header>
   
         
               <article>

            <header>
               <h1>
                  Introducing: JIRA Commit Acceptance Plugin Tweaks (Python, Batch)               </h1>
            </header>

                        <div class="content-meta">

                              <p class="pubdate">Published: <a href="index.html" class="permalink">June 25, 2012</a></p>

                              <p class="comments">Comments: <a href="index.html#comments" class="permalink">3</a></p>

                              <p class="categories">Filed under: <a href="../tools-posts/index.html" title="View all posts in Tools" rel="category tag">Tools</a></p>

                              <p class="tags">Topics: <a href="../topics/batch-files/index.html" rel="tag">batch files</a>, <a href="../topics/commit-acceptance/index.html" rel="tag">Commit Acceptance</a>, <a href="../topics/jira/index.html" rel="tag">JIRA</a>, <a href="../topics/plugin/index.html" rel="tag">plugin</a>, <a href="../topics/python/index.html" rel="tag">Python</a>, <a href="../topics/scripts/index.html" rel="tag">scripts</a>, <a href="../topics/subversion/index.html" rel="tag">Subversion</a></p>
                           </div>
            
                        <div class="content hyphenate">

               <p>One of the tasks I set for myself with <a href="http://www.atlassian.com/software/jira/overview" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.atlassian.com']);"><span class="caps">JIRA</span></a> at <a href="http://questconsult.com/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://questconsult.com']);">Quest</a> was to configure it and Subversion so that people can't check in with referencing a <span class="caps">JIRA</span> Issue. This is a little thing, but it helps ensure people will actually use the issue tracker, instead of letting it languish. Add good version and source control policies - the kind you implement on the server, not just the kind you tell people to use (because we all know how well <em>that</em> works out) - and you have a solution that helps people use both version control and the issue tracker sensibly. <span id="more-548"></span></p>

<h2><span class="caps">JIRA</span> Commit Acceptance Plugin</h2>

<h3>Background</h3>

<p>The easiest way to get this setup going is with the <a href="https://studio.plugins.atlassian.com/wiki/display/CMMT/JIRA+Commit+Acceptance" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://studio.plugins.atlassian.com']);"><span class="caps">JIRA</span> Commit Acceptance Plugin</a>, which allows you to configure various options for allowing or disallowing check-ins based on whether they reference a <span class="caps">JIRA </span>issue and whether the issue in question has been resolved or not. It even has the ability to specify different settings project-by-project. This is all great stuff, and it has support for several version control systems; I'm using Subversion.</p>

<p>To make it work with Subversion requires integrating with Subversion's <a href="http://svnbook.red-bean.com/en/1.7/svn.ref.reposhooks.pre-commit.html" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://svnbook.red-bean.com']);">pre-commit hook</a> concept. Subversion fires these hook scripts off when it hits certain points in the commit process. It will actually run <em>any</em> script that is executable and named <code>pre-commit.&lt;extension&gt;</code>, so you can use <code>pre-commit.py</code>, <code>pre-commit.sh</code>, <code>pre-commit.bat</code>, <code>pre-commit.exe</code>, <code>pre-commit.jar</code>, <code>pre-commit.rb</code>... you get the idea. Since the hook is just an executable script, you can configure actions to do pretty much whatever you want during that period of time, including call other scripts.</p>

<p>In this case, the plugin authors provided a set of files:</p>


<ul>
<li>a pre-commit hook (in <code>.sh</code> or <code>.bat</code> form depending on whether you're on a *nix or Windows machine, respectively)</li>
<li>two options for the actual script the pre-commit hook calls, which goes out and checks <span class="caps">JIRA </span>for the issues
<ul>
<li>jira-client.py, a Python implementation</li>
<li>jira-client.pl, a Perl implementation</li>
</ul>
</li>
</ul>



<p>I don't know Perl, and frankly I don't care to. It's a fine scripting language by all accounts, but so is Python - and Python tickles my fancy for lots of reasons, not least its aesthetic elegance. So it was a no-brainer for me to use the Python implementation.</p>

<h3>Problems and Solutions</h3>

<p>There were, however, two problems that needed resolving:</p>


<ol>
<li>As provided, the software didn't actually work. Specifically, the pre-commit hook didn't play nicely, thanks to the way environment variables are set and the fact that I couldn't guarantee a local install of Python.
<ol>
<li>Specifically: the Subversion pre-commit hook runs in an empty environment, so you have to provide the necessary environment variables. Being on Windows, this was harder than you might think.</li>
</ol>
</li>
<li>The Python script was woefully out of date. Hasn't-been-updated-since-2009 out of date, uses-deprecated-modules-and-functions out of date.</li>
</ol>



<p>Seeing as the solutions to each of these problems are useful to more than just me, here they are for the world to make use of. Source code for each is included below, as well as on its respective page.</p>

<h4>jira-client.py tweaks</h4>

<p>Download the tweaked file <a href="http://dl.chriskrycho.com/scripts/jira-client.py" >here</a>. See a detailed writeup of what I did, how and why <a href="http://www.chriskrycho.com/web/tools/jira-commit-acceptance-plugin-tweaks/" >here</a>.</p>

<h4>pre-commit.bat tweaks</h4>

<p>Necessary to deal with Windows Network Shares (as opposed to good old Unix network shares, which work much more sensibly). Download the batch file <a href="http://dl.chriskrycho.com/scripts/remote-executable.bat" >here</a>. See a detailed writeup on dealing with shared network drives and executables <a href="http://www.chriskrycho.com/web/tools/run-executable-on-a-network-drive-batch-file/" >here</a>. I included some detailed notes on dynamically mapping directories, if you're curious.</p>

<h2>Source code</h2>

<p>The following should work with minimal tweaking (after supplying the <code>&lt;user-defined pieces&gt;</code>). Please see the aforementioned pages for detailed explanations.</p>

<h3>jira-client.py</h3>


<div class="wp_syntax"><table><tr><td class="code"><pre class="python" style="font-family:monospace;"><span style="color: #808080; font-style: italic;">#!/usr/bin/python</span>
&nbsp;
<span style="color: #808080; font-style: italic;"># JIRA commit acceptance python client for SVN</span>
<span style="color: #808080; font-style: italic;"># Author: istvan.vamosi@midori.hu</span>
<span style="color: #808080; font-style: italic;"># $Id: jira-client.py 20980 2009-07-23 06:16:03Z dchui $</span>
&nbsp;
<span style="color: #808080; font-style: italic;"># Updated by Chris Krycho 2012-06-09                                                                                                </span>
<span style="color: #808080; font-style: italic;"># www.chriskrycho.com / web@chriskrycho.com </span>
&nbsp;
<span style="color: #ff7700;font-weight:bold;">try</span>:
    <span style="color: #ff7700;font-weight:bold;">import</span> <span style="color: #dc143c;">subprocess</span>
    <span style="color: #ff7700;font-weight:bold;">import</span> <span style="color: #dc143c;">sys</span>
    <span style="color: #ff7700;font-weight:bold;">import</span> <span style="color: #dc143c;">urlparse</span>
    <span style="color: #ff7700;font-weight:bold;">import</span> <span style="color: #dc143c;">xmlrpclib</span>
<span style="color: #ff7700;font-weight:bold;">except</span> <span style="color: #008000;">ImportError</span>:
    exit<span style="color: black;">&#40;</span><span style="color: #ff4500;">1</span><span style="color: black;">&#41;</span>
&nbsp;
<span style="color: #808080; font-style: italic;"># configure JIRA access</span>
<span style="color: #808080; font-style: italic;"># (&quot;projectKey&quot; can contain multiple comma-separated JIRA project keys like &quot;projectKey = 'TST,ARP'&quot;.</span>
<span style="color: #808080; font-style: italic;"># If you specify multiple keys, the commit will be accepted if at least one project listed accepts it.</span>
<span style="color: #808080; font-style: italic;"># Or you can specify &quot;projectKey = '*'&quot; to force using the global commit acceptance settings if you don't</span>
<span style="color: #808080; font-style: italic;"># want to specify any exact project key.)</span>
jiraBaseURL <span style="color: #66cc66;">=</span> <span style="color: #483d8b;">'&lt;url of server&gt;'</span>
jiraLogin <span style="color: #66cc66;">=</span> <span style="color: #483d8b;">'&lt;administrative user login&gt;'</span>
jiraPassword <span style="color: #66cc66;">=</span> <span style="color: #483d8b;">'&lt;password&gt;'</span>
projectKey <span style="color: #66cc66;">=</span> <span style="color: #483d8b;">'*'</span>
&nbsp;
<span style="color: #808080; font-style: italic;"># configure svnlook path (e.g. C:/Program Files/TortoiseSVN/bin/svnlook or /usr/bin/svnlook)</span>
svnlookPath <span style="color: #66cc66;">=</span> <span style="color: #483d8b;">'&lt;path to svnlook&gt;'</span>
&nbsp;
<span style="color: #808080; font-style: italic;"># get committer</span>
<span style="color: #ff7700;font-weight:bold;">try</span>:
    author <span style="color: #66cc66;">=</span> <span style="color: #dc143c;">subprocess</span>.<span style="color: black;">check_output</span><span style="color: black;">&#40;</span><span style="color: black;">&#91;</span>svnlookPath<span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'author'</span><span style="color: #66cc66;">,</span> <span style="color: #dc143c;">sys</span>.<span style="color: black;">argv</span><span style="color: black;">&#91;</span><span style="color: #ff4500;">1</span><span style="color: black;">&#93;</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'-t'</span><span style="color: #66cc66;">,</span> <span style="color: #dc143c;">sys</span>.<span style="color: black;">argv</span><span style="color: black;">&#91;</span><span style="color: #ff4500;">2</span><span style="color: black;">&#93;</span><span style="color: black;">&#93;</span><span style="color: black;">&#41;</span>
<span style="color: #ff7700;font-weight:bold;">except</span>:
    errorMessage <span style="color: #66cc66;">=</span> <span style="color: #483d8b;">&quot;Unable to get commit author with svnlook.&quot;</span>
    errorMessage +<span style="color: #66cc66;">=</span> <span style="color: black;">&#40;</span><span style="color: #483d8b;">&quot;<span style="color: #000099; font-weight: bold;">\n</span><span style="color: #000099; font-weight: bold;">\t</span>Repository:<span style="color: #000099; font-weight: bold;">\t</span>&quot;</span>  + <span style="color: #dc143c;">sys</span>.<span style="color: black;">argv</span><span style="color: black;">&#91;</span><span style="color: #ff4500;">1</span><span style="color: black;">&#93;</span><span style="color: black;">&#41;</span>
    errorMessage +<span style="color: #66cc66;">=</span> <span style="color: black;">&#40;</span><span style="color: #483d8b;">&quot;<span style="color: #000099; font-weight: bold;">\n</span><span style="color: #000099; font-weight: bold;">\t</span>Transaction:<span style="color: #000099; font-weight: bold;">\t</span>&quot;</span> + <span style="color: #dc143c;">sys</span>.<span style="color: black;">argv</span><span style="color: black;">&#91;</span><span style="color: #ff4500;">2</span><span style="color: black;">&#93;</span><span style="color: black;">&#41;</span>
    errorMessage +<span style="color: #66cc66;">=</span> <span style="color: black;">&#40;</span><span style="color: #483d8b;">&quot;<span style="color: #000099; font-weight: bold;">\n</span><span style="color: #000099; font-weight: bold;">\t</span>svnlook path:<span style="color: #000099; font-weight: bold;">\t</span>&quot;</span> + svnlookPath<span style="color: black;">&#41;</span>
    <span style="color: #ff7700;font-weight:bold;">print</span> <span style="color: #66cc66;">&gt;&gt;</span> <span style="color: #dc143c;">sys</span>.<span style="color: black;">stderr</span><span style="color: #66cc66;">,</span> errorMessage
    <span style="color: #dc143c;">sys</span>.<span style="color: black;">exit</span><span style="color: black;">&#40;</span><span style="color: #ff4500;">1</span><span style="color: black;">&#41;</span>
&nbsp;
<span style="color: #808080; font-style: italic;"># get commit message</span>
<span style="color: #ff7700;font-weight:bold;">try</span>:
    message <span style="color: #66cc66;">=</span> <span style="color: #dc143c;">subprocess</span>.<span style="color: black;">check_output</span><span style="color: black;">&#40;</span><span style="color: black;">&#91;</span>svnlookPath<span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'log'</span><span style="color: #66cc66;">,</span> <span style="color: #dc143c;">sys</span>.<span style="color: black;">argv</span><span style="color: black;">&#91;</span><span style="color: #ff4500;">1</span><span style="color: black;">&#93;</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'-t'</span><span style="color: #66cc66;">,</span> <span style="color: #dc143c;">sys</span>.<span style="color: black;">argv</span><span style="color: black;">&#91;</span><span style="color: #ff4500;">2</span><span style="color: black;">&#93;</span><span style="color: black;">&#93;</span><span style="color: black;">&#41;</span>
<span style="color: #ff7700;font-weight:bold;">except</span>:
    errorMessage <span style="color: #66cc66;">=</span> <span style="color: #483d8b;">&quot;Unable to get commit message with svnlook.&quot;</span>
    errorMessage +<span style="color: #66cc66;">=</span> <span style="color: black;">&#40;</span><span style="color: #483d8b;">&quot;<span style="color: #000099; font-weight: bold;">\n</span><span style="color: #000099; font-weight: bold;">\t</span>Repository:<span style="color: #000099; font-weight: bold;">\t</span>&quot;</span>  + <span style="color: #dc143c;">sys</span>.<span style="color: black;">argv</span><span style="color: black;">&#91;</span><span style="color: #ff4500;">1</span><span style="color: black;">&#93;</span><span style="color: black;">&#41;</span>
    errorMessage +<span style="color: #66cc66;">=</span> <span style="color: black;">&#40;</span><span style="color: #483d8b;">&quot;<span style="color: #000099; font-weight: bold;">\n</span><span style="color: #000099; font-weight: bold;">\t</span>Transaction:<span style="color: #000099; font-weight: bold;">\t</span>&quot;</span> + <span style="color: #dc143c;">sys</span>.<span style="color: black;">argv</span><span style="color: black;">&#91;</span><span style="color: #ff4500;">2</span><span style="color: black;">&#93;</span><span style="color: black;">&#41;</span>
    errorMessage +<span style="color: #66cc66;">=</span> <span style="color: black;">&#40;</span><span style="color: #483d8b;">&quot;<span style="color: #000099; font-weight: bold;">\n</span><span style="color: #000099; font-weight: bold;">\t</span>svnlook path:<span style="color: #000099; font-weight: bold;">\t</span>&quot;</span> + svnlookPath<span style="color: black;">&#41;</span>
    <span style="color: #ff7700;font-weight:bold;">print</span> <span style="color: #66cc66;">&gt;&gt;</span> <span style="color: #dc143c;">sys</span>.<span style="color: black;">stderr</span><span style="color: #66cc66;">,</span> errorMessage
    <span style="color: #dc143c;">sys</span>.<span style="color: black;">exit</span><span style="color: black;">&#40;</span><span style="color: #ff4500;">1</span><span style="color: black;">&#41;</span>
&nbsp;
<span style="color: #808080; font-style: italic;"># print arguments</span>
<span style="color: #ff7700;font-weight:bold;">print</span> <span style="color: #66cc66;">&gt;&gt;</span> <span style="color: #dc143c;">sys</span>.<span style="color: black;">stderr</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'Author: '</span> + author
<span style="color: #ff7700;font-weight:bold;">print</span> <span style="color: #66cc66;">&gt;&gt;</span> <span style="color: #dc143c;">sys</span>.<span style="color: black;">stderr</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'Commit message: &quot;'</span> + message + <span style="color: #483d8b;">'&quot;'</span>
&nbsp;
<span style="color: #808080; font-style: italic;"># invoke JIRA web service</span>
xmlrpcUrl <span style="color: #66cc66;">=</span> jiraBaseURL + <span style="color: #483d8b;">'/rpc/xmlrpc'</span>
<span style="color: #ff7700;font-weight:bold;">try</span>:
    s <span style="color: #66cc66;">=</span> <span style="color: #dc143c;">xmlrpclib</span>.<span style="color: black;">ServerProxy</span><span style="color: black;">&#40;</span>xmlrpcUrl<span style="color: black;">&#41;</span>
    acceptance<span style="color: #66cc66;">,</span> comment <span style="color: #66cc66;">=</span> s.<span style="color: black;">commitacc</span>.<span style="color: black;">acceptCommit</span><span style="color: black;">&#40;</span>jiraLogin<span style="color: #66cc66;">,</span> jiraPassword<span style="color: #66cc66;">,</span> author<span style="color: #66cc66;">,</span> projectKey<span style="color: #66cc66;">,</span> message<span style="color: black;">&#41;</span>.<span style="color: black;">split</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'|'</span><span style="color: black;">&#41;</span><span style="color: #66cc66;">;</span>
<span style="color: #ff7700;font-weight:bold;">except</span>:
    acceptance<span style="color: #66cc66;">,</span> comment <span style="color: #66cc66;">=</span> <span style="color: black;">&#91;</span><span style="color: #483d8b;">'false'</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'Unable to connect to the JIRA server at &quot;'</span> + jiraBaseURL + <span style="color: #483d8b;">'&quot;.'</span><span style="color: black;">&#93;</span>
&nbsp;
<span style="color: #ff7700;font-weight:bold;">if</span> acceptance <span style="color: #66cc66;">==</span> <span style="color: #483d8b;">'true'</span>:
    <span style="color: #ff7700;font-weight:bold;">print</span> <span style="color: #66cc66;">&gt;&gt;</span> <span style="color: #dc143c;">sys</span>.<span style="color: black;">stderr</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'Commit accepted.'</span>
    <span style="color: #dc143c;">sys</span>.<span style="color: black;">exit</span><span style="color: black;">&#40;</span><span style="color: #ff4500;">0</span><span style="color: black;">&#41;</span>
<span style="color: #ff7700;font-weight:bold;">else</span>:
    <span style="color: #ff7700;font-weight:bold;">print</span> <span style="color: #66cc66;">&gt;&gt;</span> <span style="color: #dc143c;">sys</span>.<span style="color: black;">stderr</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'Commit rejected: '</span> + comment
    <span style="color: #dc143c;">sys</span>.<span style="color: black;">exit</span><span style="color: black;">&#40;</span><span style="color: #ff4500;">1</span><span style="color: black;">&#41;</span></pre></td></tr></table></div>




<h3>Batch file</h3>


<div class="wp_syntax"><table><tr><td class="code"><pre class="winbatch" style="font-family:monospace;"><span style="color: #66cc66;">@</span>ECHO <span style="color: #0080FF; font-weight: bold;">OFF</span>
&nbsp;
setlocal
&nbsp;
<span style="color: #FF1010; font-weight: bold;">:: Store working directory to return to after finished</span>
set WORKDIR=<span style="color: #66cc66;">%</span>CD<span style="color: #66cc66;">%</span>
&nbsp;
<span style="color: #FF1010; font-weight: bold;">:: Map and switch to a network drive and give it an arbitrary, unmapped drive letter</span>
pushd \\<span style="color: #66cc66;">&lt;</span>machine<span style="color: #66cc66;">-</span>name<span style="color: #66cc66;">&gt;</span>\<span style="color: #66cc66;">&lt;</span>directory<span style="color: #66cc66;">&gt;</span>
&nbsp;
<span style="color: #FF1010; font-weight: bold;">:: Store the name of network drive so it can be unmapped when finished</span>
set NETDRIVE=<span style="color: #66cc66;">%</span>CD<span style="color: #66cc66;">%</span>
set NETDRIVE=<span style="color: #66cc66;">%</span>NETDRIVE<span style="color: #FF1010; font-weight: bold;">:\=%</span>
&nbsp;
<span style="color: #FF1010; font-weight: bold;">:: Change back to the original directory</span>
cd <span style="color: #66cc66;">/</span>d <span style="color: #66cc66;">%</span>WORKDIR<span style="color: #66cc66;">%</span>
&nbsp;
<span style="color: #FF1010; font-weight: bold;">:: Run commands with the network drive mapped</span>
<span style="color: #66cc66;">%</span>NETDRIVE<span style="color: #66cc66;">%</span>\<span style="color: #66cc66;">&lt;</span>path <span style="color: #800080;">to</span> executable<span style="color: #66cc66;">&gt;</span>
&nbsp;
<span style="color: #FF1010; font-weight: bold;">:: Uncomment this if you want to catch errors from the executable</span>
<span style="color: #FF1010; font-weight: bold;">:: if %errorlevel% GTR 0 exit %errorlevel%</span>
&nbsp;
<span style="color: #FF1010; font-weight: bold;">:: Unmap the network drive</span>
net use <span style="color: #66cc66;">%</span>NETDRIVE<span style="color: #66cc66;">%</span> <span style="color: #66cc66;">/</span>delete <span style="color: #66cc66;">/</span>y
&nbsp;
endlocal</pre></td></tr></table></div>

            </div>

                           <footer id="comments">
                  <h3 class="discussion-header">Discussion</h3>
                  <ul class="comments-ul">

   <li class="comment-li" id="comment-li-790">
      <article class="comment" id="comment-790">
         <div class="comment-avatar">
            <img alt='' src='http://0.gravatar.com/avatar/467b1b7d5001cc321842afb9cd1a17aa?s=82&amp;d=identicon&amp;r=G' class='avatar avatar-82 photo' height='82' width='82' />         </div>
         <div class="comment-meta">
            <p>
                              <span>Vino thought to say:</span>
                              <span class="comment-date">
                  <a href="index.html#comment-790" class="comment-permalink' title='comment permalink">
                     5:34pm on 8/27/2012                  </a>
               </span>
            </p>
         </div>
<p>Hi Chris,<br />
   I had end up in your blog in search jira-commit-acceptance plugin jarfile. which version of server plugin you are using with it?. I see only these version available <a href="https://studio.plugins.atlassian.com/svn/CMMT/jars/" onclick="javascript:_gaq.push(['_trackEvent','outbound-comment','http://studio.plugins.atlassian.com']);" rel="nofollow">https://studio.plugins.atlassian.com/svn/CMMT/jars/</a> for download?. </p>
<p>  I&#8217;m interested to know which version of server plug-in worked for jira5.x. Thanks for your help</p>
<a class='comment-reply-link' href='index32a9.html?replytocom=790#respond' onclick='return addComment.moveForm("comment-790", "790", "respond", "548")'>Offer a rejoinder&darr;</a>      </article>

<ul class="children">
   <li class="comment-li" id="comment-li-791">
      <article class="comment" id="comment-791">
         <div class="comment-avatar">
            <img alt='' src='http://0.gravatar.com/avatar/c096ed07142659408dc6651f8320acd3?s=82&amp;d=identicon&amp;r=G' class='avatar avatar-82 photo' height='82' width='82' />         </div>
         <div class="comment-meta">
            <p>
                              <span><a href="http://www.chriskrycho.com/" class="comment-author-link">Chris Krycho</a> thought to say:</span>
                              <span class="comment-date">
                  <a href="index.html#comment-791" class="comment-permalink' title='comment permalink">
                     10:09pm on 8/27/2012                  </a>
               </span>
            </p>
         </div>
<p>Vino, I&#8217;m just using most recent version, <a href="https://marketplace.atlassian.com/289" onclick="javascript:_gaq.push(['_trackEvent','outbound-comment','http://marketplace.atlassian.com']);" rel="nofollow">1.6.0</a>, from Atlassian Marketplace &#8211; but I believe I installed it via the Plugin manager interface, rather than a download (and I believe that&#8217;s the supported installation method, given that there are no direct download links and instead mentions of Plugin System One). I hope that helps, and I&#8217;ll take a look tomorrow at our installation to confirm that &#8211; look for another follow-up comment here.</p>
<a class='comment-reply-link' href='indexa1e2.html?replytocom=791#respond' onclick='return addComment.moveForm("comment-791", "791", "respond", "548")'>Offer a rejoinder&darr;</a>      </article>

</li><!-- #comment-## -->
   <li class="comment-li" id="comment-li-796">
      <article class="comment" id="comment-796">
         <div class="comment-avatar">
            <img alt='' src='http://0.gravatar.com/avatar/c096ed07142659408dc6651f8320acd3?s=82&amp;d=identicon&amp;r=G' class='avatar avatar-82 photo' height='82' width='82' />         </div>
         <div class="comment-meta">
            <p>
                              <span><a href="http://www.chriskrycho.com/" class="comment-author-link">Chris Krycho</a> thought to say:</span>
                              <span class="comment-date">
                  <a href="index.html#comment-796" class="comment-permalink' title='comment permalink">
                     8:53am on 8/28/2012                  </a>
               </span>
            </p>
         </div>
<p>Vino, just to follow up: I&#8217;ve confirmed that I just installed the plugin via the Find New Plugins interface in the JIRA Administration panel. Hope that helps you resolve this!</p>
<a class='comment-reply-link' href='indexfd12.html?replytocom=796#respond' onclick='return addComment.moveForm("comment-796", "796", "respond", "548")'>Offer a rejoinder&darr;</a>      </article>

</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

                  </ul> <!-- comments-ul -->
                  <div id="respond">
								<div id="respond" class="comment-respond">
				<h3 id="reply-title" class="comment-reply-title"><h2>Your rejoinder to <a href="#comment-790">Vino</a></h2> <small><a rel="nofollow" id="cancel-comment-reply-link" href="index.html#respond">Opt for silence instead&uarr;</a></small></h3>
									<form action="http://chriskrycho.com/web/wp-comments-post.php" method="post" id="commentform" class="comment-form">
																			<p class="require-contact-info">Anonymity is <em>most</em> unhelpful. Please identify yourself!</p><p class="email-anonymity">(Your email will not be published.)</p>							<p class="comment-form-author"><label for="author">Name <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" aria-required='true' /></p>
<p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="text" value="" size="30" aria-required='true' /></p>
<p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="text" value="" size="30" /></p>
												<p class="comment-form-comment"><label for="comment">Comment</label> <textarea id="comment" name="comment" cols="45" rows="8" aria-required="true"></textarea></p>												<p class="form-submit">
							<input name="submit" type="submit" id="submit" value="Fire away!" />
							<input type='hidden' name='comment_post_ID' value='548' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='790' />
						</p>
						<p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="cabd3413d9" /></p><!-- BEGIN: subscribe to comments reloaded --><p><label for='subscribe-reloaded'><input style='width:30px' type='checkbox' name='subscribe-reloaded' id='subscribe-reloaded' value='yes' /> Notify me of followup comments via e-mail. You can also <a href='../comment-subscriptions/index34bd.html?srp=548&amp;sra=s'>subscribe</a> without commenting.</label></p><!-- END: subscribe to comments reloaded -->					</form>
							</div><!-- #respond -->
			        <script type="text/javascript">
            jQuery(document).ready(function () {
                jQuery('#commentform').submit(function () {
                    _gaq.push(
                            ['_setAccount', 'UA-10702079-9'],
                            ['_trackEvent', 'comment', 'submit']
                    );
                });
            });
        </script>
		<p class="allowed-text">You may use <a href="https://help.github.com/articles/github-flavored-markdown" target="_blank">GitHub-flavored Markdown</a> and/or these <abbr title="HyperText Markup Language">HTML</abbr> tags and attributes:<br/><code>&lt;a href=&quot;&quot; title=&quot;&quot;&gt; &lt;abbr title=&quot;&quot;&gt; &lt;acronym title=&quot;&quot;&gt; &lt;b&gt; &lt;blockquote cite=&quot;&quot;&gt; &lt;cite&gt; &lt;code&gt; &lt;del datetime=&quot;&quot;&gt; &lt;em&gt; &lt;i&gt; &lt;q cite=&quot;&quot;&gt; &lt;strike&gt; &lt;strong&gt; </code></p>                  </div>
               </footer>

         </article>            <nav id="page-nav">
         <ul>
            <li class="newer">
               <a href="../good-programming-in-3-simple-rules/index.html" rel="next">&larr; back to the future</a>            </li>
            <li class="home"><a href="../index.html">&ndash;Home&ndash;</a></li>
            <li class="older">
               <a href="../eclipse-indigo-subversive-and-connectors/index.html" rel="prev">into the past &rarr;</a>            </li>
         </ul>
      </nav>
         </div>      <footer id="site-footer">

            <nav id="supersite-nav" class="footer-block">
         <h1>Navigate</h1>
         <ul>
            <li>
               <h2>Search this site:</h2>
               
<form role="search" class="customform" method="get" action="http://chriskrycho.com/web/">
   <input type="text" value="" name="search" id="search" placeholder="discover something"/>
   <input type="submit" id="searchsubmit" value="&rarr;" />
</form>            </li>
            <li>
               <a href="../../index.html">Home</a><br/>
               <i>Creativity, reflection, & passionate endeavors.</i>
            </li>
            <li>
               <a href="../index.html">Designgineering</a><br/>
               <i>Web design & development.</i>
            </li>
            <li>
               <a href="../../theology/index.html">Ardent Fidelity</a><br/>
               <i>Reflections on a Christ-centered life.</i>
            </li>
            <li>
               <a href="../../art/index.html">Ars Artis</a><br/>
               <i>Creations & musings on creativity.</i>
            </li>
            <li>
               <a href="../../family/index.html">From the Hearth</a><br/>
               <i>Updates on our growing family.</i>
            </li>
         </ul>
      </nav>

      <section id="connect" class="footer-block">
         <h1>Connect</h1>
         <ul>
            <li><h2>Opt for emails:</h2>			<div class="textwidget"><form class="customform" action="http://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open('http://feedburner.google.com/fb/a/mailverify?uri=chriskrycho/web', 'popupwindow', 'scrollbars=yes,width=550,height=520');return true">
<input type="text" name="email" placeholder="your.name@domain.com"/>
<input type="hidden" value="chriskrycho/web" name="uri"/>
<input type="hidden" name="loc" value="en_US"/>
<input type="submit" value="&rarr;" />
</form></div>
		</li>            <li>
               <a href="../feed/index.html" title="RSS feed" target="_blank">RSS/Atom</a><br/>
               <i>To the feed reader, quick!</i>
            </li>
            <li>
               <a href='https://alpha.app.net/chriskrycho' rel='me' data-type='follow' data-user-id='@chriskrycho' title="app.net/chriskrycho">App.net</a><br/>
               <i>Less noisy, more characters.</i>
            </li>
            <li>
               <a href="#" class="email-link" title="chris|@|chriskrycho|.|com" target="_blank">Email</a><br/>
               <i>Send me a letter. But without the paper.</i>
            </li>
            <li>
               <a href="http://www.facebook.com/chriskrycho" title="facebook.com/chriskrycho" target="_blank">Facebook</a><br/>
               <i>Fun party meets family get-together.</i>
            </li>
            <li>
               <a href="https://plus.google.com/100517719789069874571/" title="Google+ profile" target="_blank">Google+</a><br/>
               <i>The nerdy new kid on the block.</i>
            </li>
            <li>
               <a href="http://www.goodreads.com/user/show/3165223-chris-krycho" title="Goodreads profile" target="_blank">Goodreads</a><br/>
               <i>A bookshelf, in cyberspace!</i>
            </li>
            <li>
               <a href="http://www.linkedin.com/in/chriskrycho" title="LinkedIn Profile" target="_blank">LinkedIn</a><br/>
               <i>A place for professional professionals.</i>
            </li>
            <li>
               <a href="http://nosegue.tumblr.com/">No Segue</a><br/>
               <i>A Tumblr about technology</i>
            </li>
            <li>
               <a href="http://www.twitter.com/chriskrycho" title="twitter.com/chriskrycho" target="_blank">Twitter</a><br/>
               <i>Your spastic journalist neighbors.</i>
            </li>
            <li>
               <a href="http://about.me/chriskrycho" title="About.me profile" target="_blank">About.me</a><br/>
               <i>Biographical sundries & links galore!</i>
            </li>
            <li>
               <a href="http://www.runningahead.com/logs/2667b469aeda433382cbcc8ed413d964/profile" target="_blank">RunningAhead</a><br/>
               <i>I run and run and run some more.</i>
            </li>
         </ul>
      </section>

      <section id="read" class="footer-block">
         <h1>Read</h1>
         <div class="eg-archives-columns"><ul>	<li><a href='../2013/12/index.html'>December 2013</a></li>
	<li><a href='../2013/10/index.html'>October 2013</a></li>
	<li><a href='../2013/09/index.html'>September 2013</a></li>
	<li><a href='../2013/08/index.html'>August 2013</a></li>
	<li><a href='../2013/06/index.html'>June 2013</a></li>
	<li><a href='../2013/05/index.html'>May 2013</a></li>
	<li><a href='../2013/03/index.html'>March 2013</a></li>
	<li><a href='../2013/02/index.html'>February 2013</a></li>
	<li><a href='../2013/01/index.html'>January 2013</a></li>
	<li><a href='../2012/12/index.html'>December 2012</a></li>
	<li><a href='../2012/11/index.html'>November 2012</a></li>
</ul><ul>
	<li><a href='../2012/10/index.html'>October 2012</a></li>
	<li><a href='../2012/09/index.html'>September 2012</a></li>
	<li><a href='../2012/08/index.html'>August 2012</a></li>
	<li><a href='../2012/07/index.html'>July 2012</a></li>
	<li><a href='../2012/06/index.html'>June 2012</a></li>
	<li><a href='../2012/05/index.html'>May 2012</a></li>
	<li><a href='../2012/04/index.html'>April 2012</a></li>
	<li><a href='../2012/03/index.html'>March 2012</a></li>
	<li><a href='../2012/02/index.html'>February 2012</a></li>
	<li><a href='../2012/01/index.html'>January 2012</a></li></ul></div>      </section>

      <section id="discuss" class="footer-block">
         <h1>Discuss</h1>
         <h2></h2><ul><li><a href="../python-homebrew-virtualenv-os-x-framework-builds/index.html#comment-16469">Josh, another bit of follow-up. As noted in my prev...</a> &ndash; Chris Krycho <i>on <a href="../python-homebrew-virtualenv-os-x-framework-builds/index.html">Python—homebrew, virtualenv, and OS X Framework builds</a></i></li><li><a href="../modular-scales-fantastic-but-dont-overdo-it/index.html#comment-15318">z6305

c17217

R10941
</a> &ndash; VedqueltWeree <i>on <a href="../modular-scales-fantastic-but-dont-overdo-it/index.html">Modular scales: fantastic, but don't overdo it</a></i></li><li><a href="../python-homebrew-virtualenv-os-x-framework-builds/index.html#comment-15073">My pleasure. However, fair warning: I just discover...</a> &ndash; Chris Krycho <i>on <a href="../python-homebrew-virtualenv-os-x-framework-builds/index.html">Python—homebrew, virtualenv, and OS X Framework builds</a></i></li><li><a href="../python-homebrew-virtualenv-os-x-framework-builds/index.html#comment-14916">Thank you.  This was a source of much frustration.
...</a> &ndash; Josh Baylin <i>on <a href="../python-homebrew-virtualenv-os-x-framework-builds/index.html">Python—homebrew, virtualenv, and OS X Framework builds</a></i></li><li><a href="../jira-confluence-intranets-and-windows-firewall/index.html#comment-11602">Thank you so much for this awesome post! I've been ...</a> &ndash; Henrik Olsen <i>on <a href="../jira-confluence-intranets-and-windows-firewall/index.html">JIRA, Confluence, Intranets and Windows Firewall</a></i></li></ul>      </section>

      <section id="colophon" class="colophon footer-block">
         <h1>Colophon</h1>
         <p>
            &copy;2012&ndash;2014 Chris Krycho         </p>
               </section>
   </footer>
   <!-- MathJax Latex Plugin installed: Disabled as no shortcodes on this page --><script src="http://bible.logos.com/jsapi/Referencetagging.js" type="text/javascript"></script>
<script type="text/javascript">
			Logos.ReferenceTagging.lbsBibleVersion = "";
			Logos.ReferenceTagging.lbsLibronixBibleVersion = "";
									Logos.ReferenceTagging.lbsLibronixLinkIcon = "";
			Logos.ReferenceTagging.lbsNoSearchClassNames = [ "commentlist" ];			Logos.ReferenceTagging.lbsUseTooltip = false;			Logos.ReferenceTagging.lbsNoSearchTagNames = [  ];
															Logos.ReferenceTagging.tag();
		</script>
   <script src='https://d2zh9g63fcvyrq.cloudfront.net/adn.js'></script>
</body>

<!-- Mirrored from chriskrycho.com/web/introducing-jira-commit-acceptance-plugin-tweaks-python-batch/?replytocom=790 by HTTrack Website Copier/3.x [XR&CO'2013], Wed, 01 Jan 2014 03:23:56 GMT -->
</html>