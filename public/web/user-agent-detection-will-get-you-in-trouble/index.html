<!doctype html>
<html lang="en-US" class="no-wp-admin">

<!-- Mirrored from chriskrycho.com/web/user-agent-detection-will-get-you-in-trouble/ by HTTrack Website Copier/3.x [XR&CO'2013], Wed, 01 Jan 2014 03:13:37 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
   <title>
      User Agent Detection Will Get You In Trouble &raquo; Designgineering &raquo; Chris Krycho   </title>

   <!-- Set document meta -->
   <meta charset="UTF-8" />

   <!-- Mobile devices should view the screen at their native width -->
   <meta name='viewport' content='width=device-width,initial-scale=1.0' />

   <!-- Styles -->
   <link rel="stylesheet" type="text/css" media="screen" href="../wp-content/themes/ck-web/style.css" />
   <link rel="stylesheet" type="text/css" media="screen" href="../../utilities/tooltip/jquery.tooltip.css"

   <!-- Authorship -->
   <link rel="author" href="https://plus.google.com/u/0/100517719789069874571/" />
   
   <!-- All Javascript (including JQuery) functionality -->
   <script type="text/javascript" src="http://use.typekit.com/aqh6miw.js"></script>

   <!-- jQuery -->
   <script type="text/javascript" src="../../utilities/jquery.min.js"></script>
   <script type="text/javascript" src="../../utilities/tooltip/jquery.tooltip.min.js"></script>
   <script type="text/javascript" src="../../utilities/custom-functions.js"></script>

   <!-- IE Fixes -->
   <!--[if lt IE 9]>
      <script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
      <link rel="stylesheet" type="text/css" media="screen" href="/styles/ie.css" />
   <![endif]-->
   
   
<!-- This site is optimized with the Yoast WordPress SEO plugin v1.4.22 - http://yoast.com/wordpress/seo/ -->
<meta name="description" content="We need to be extremely careful in where and how we rely on user agent detection to make decisions about the content we supply to users."/>
<link rel="canonical" href="index.html" />
<link rel="author" href="https://plus.google.com/100517719789069874571/"/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:site" content="@chriskrycho"/>
<meta name="twitter:domain" content="Designgineering"/>
<meta name="twitter:creator" content="@chriskrycho"/>
<meta name="twitter:description" content="We need to be extremely careful in where and how we rely on user agent detection to make decisions about the content we supply to users."/>
<meta name="twitter:title" content="User Agent Detection Will Get You In Trouble - Designgineering"/>
<meta name="twitter:url" content="http://chriskrycho.com/web/user-agent-detection-will-get-you-in-trouble/"/>
<!-- / Yoast WordPress SEO plugin. -->


            <script type="text/javascript">//<![CDATA[
            // Google Analytics for WordPress by Yoast v4.3.3 | http://yoast.com/wordpress/google-analytics/
            var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-10702079-9']);
				            _gaq.push(['_setCustomVar',1,'tags','best-practices graceful-degradation progressive-enhancement ',3],['_setCustomVar',2,'year','2012',3],['_setCustomVar',3,'category','posts',3],['_trackPageview']);
            (function () {
                var ga = document.createElement('script');
                ga.type = 'text/javascript';
                ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';

                var s = document.getElementsByTagName('script')[0];
                s.parentNode.insertBefore(ga, s);
            })();
            //]]></script>
			<link rel="alternate" type="application/rss+xml" title="Designgineering &raquo; User Agent Detection Will Get You In Trouble Comments Feed" href="feed/index.html" />
<link rel='stylesheet' id='wp-syntax-css-css'  href='../wp-content/plugins/wp-syntax/css/wp-syntax5152.css?ver=1.0' type='text/css' media='all' />
<script type='text/javascript' src='../wp-includes/js/comment-reply.mincaf6.js?ver=3.9-alpha'></script>
<script type='text/javascript' src='../wp-includes/js/jquery/jquery3e5a.js?ver=1.10.2'></script>
<script type='text/javascript' src='../wp-includes/js/jquery/jquery-migrate.min1576.js?ver=1.2.1'></script>
<meta name="generator" content="WordPress 3.9-alpha" />
<script type="text/javascript" src="../wp-content/plugins/wp-syntax-effects/js/wp-syntax-effects.js"></script>
</head>
<body>
<div id="decorative-wrapper">


   <!--[if lt IE 9]>
   <div id="nav-wrapper">
   <![endif]-->
   
   <nav id="site-nav" class="menu-main-nav-container"><ul id="menu-main-nav" class="menu"><li id="menu-item-12" class="level-1 menu-item menu-item-type-post_type menu-item-object-page menu-item-12"><a href="../work/index.html" >Work</a></li>
<li id="menu-item-219" class="level-1 menu-item menu-item-type-post_type menu-item-object-page menu-item-219"><a href="../tools/index.html" >Tools</a></li>
<li id="menu-item-858" class="level-1 menu-item menu-item-type-taxonomy menu-item-object-category menu-item-858"><a href="../projects/index.html" >Projects</a></li>
<li id="menu-item-11" class="level-1 hide menu-item menu-item-type-post_type menu-item-object-page menu-item-11"><a href="../process/index.html" >Process</a></li>
<li id="menu-item-10" class="level-1 menu-item menu-item-type-post_type menu-item-object-page menu-item-10"><a href="../web-professionals/index.html" >Web Professionals</a></li>
</ul></nav>   
   <!--[if lt IE 9]>
   </div>
   <![endif]-->

   <header id="site-header">
      <h1><a href="../index.html">Designgineering</a></h1>
      <h2><span class="italic">web design &amp; development <span class="break">by <a href='../../index.html'>Chris Krycho</a></span></span></h2>
   </header>
   
         
               <article>

            <header>
               <h1>
                  User Agent Detection Will Get You In Trouble               </h1>
            </header>

                        <div class="content-meta">

                              <p class="pubdate">Published: <a href="index.html" class="permalink">May 11, 2012</a></p>

                              <p class="comments">Comments: <a href="index.html#comments" class="permalink">0</a></p>

                              <p class="categories">Filed under: <a href="../posts/index.html" title="View all posts in Posts" rel="category tag">Posts</a></p>

                              <p class="tags">Topics: <a href="../topics/best-practices/index.html" rel="tag">best practices</a>, <a href="../topics/graceful-degradation/index.html" rel="tag">graceful degradation</a>, <a href="../topics/progressive-enhancement/index.html" rel="tag">progressive enhancement</a>, <a href="../topics/responsive-design/index.html" rel="tag">responsive design</a>, <a href="../topics/web-applications/index.html" rel="tag">web applications</a>, <a href="../topics/web-design/index.html" rel="tag">web design</a></p>
                           </div>
            
                        <div class="content hyphenate">

               <p>One of the joys of corporate IT policies is seeing how things break when you&#8217;re in an unusual configuration on the web. Like, say, running Firefox behind a corporate proxy that tells every site out there that you&#8217;re actually running IE7. This morning, I paused from other tasks to read an article on a well-known religious commentary website, and saw a message at the top alerting me that I&#8217;m using an out-of-date version of Internet Explorer (which I would be if I were running IE&#8230; but this is on a relatively up-to-date version of Firefox).</p>
<p>Bad enough that for whatever reason our corporate IT has taken to spoofing outgoing traffic this way when routing through their proxies. (One wonders just how much of the reported IE6 or IE7 traffic on the web comes from this sort of thing.) But the real problem is that the site I visited was broken. Horribly, horribly broken.</p>
<p>That message &#8211; &#8220;You&#8217;re using an outdated version of Internet Explorer&#8221; &#8211; told me why. <span id="more-474"></span></p>
<p>The site, it seems, is supplying different content to browsers with different user agents. I didn&#8217;t get the standard CSS file I should have, and the site was unusable. As in: almost completely. I managed to get through the article, but I won&#8217;t be back there anytime soon.</p>
<p>I&#8217;ve hit on this topic <a href="http://www.chriskrycho.com/web/posts/responsive-design-server-side-feature-detection-and-a-big-mess/"  title="Responsive Design, Server-Side Feature Detection, and a Big Mess">before</a>, and while I came out of the ensuing conversation with a respect for back-end developers who are thinking through these issues, this right here &#8211; a real problem, out in the wild &#8211; highlights my concerns with the approach, even when carefully administered.</p>
<p>So, a plea for sanity: if you&#8217;re going to do server-side user-agent detection, fine. I was persuaded by the the <a href="http://www.chriskrycho.com/web/posts/responsive-design-server-side-feature-detection-and-a-big-mess/#comments"  title="comment thread">discussion</a> that followed that post that there really is a time and place for that sort of thing. But we need to be extremely careful in <em>where</em> and <em>how</em> we rely on user agent-detection to make decisions about the content we supply to users.</p>
<p>We should never &#8211; not ever! &#8211; actively punish a user for having an out-of-date browser. If you don&#8217;t want to actively support it, that&#8217;s one thing. Don&#8217;t write IE6- or IE7-specific stylesheets. But for goodness&#8217; sake, don&#8217;t stop supply the <em>regular</em> stylesheet! Don&#8217;t give me completely unstyled content just because you think my browser is out of date. However good user-agent detection gets, it will never be perfectly reliable, and you do no one any good by penalizing them for browser decisions that are often beyond their control.</p>
<p>This is one reason responsive layouts are, in my view, far better than forced redirects to mobile versions of sites based on user agent. (If you want users to be able to opt out of a responsive reflow, you can still do that: give them a link that sets a cookie that tells the browser to load a non-responsive stylesheet and call it a day.) But in that case, the user still gets the content. Even if I am using IE7, I still get all the images, some semblance of layout that is actually readable, and so forth. When you withhold content on the basis of user agent-detection, you&#8217;re relying on a guess, however generally reliable, that could prove to be very wrong.</p>
<p>So think about which elements you ought to be applying those decisions to. Here&#8217;s a hint: <em>stylesheets generally aren&#8217;t one of them</em>. (If you do make a decision to present reduced stylesheets, it should be for mobile-only, and users should always be able to opt out of it.) Server-side responsive decisions make sense for things like images or video, where compression might be sensible, but not for layout or restricting access to content.</p>
<p>All of that is basically a long way of saying: <em>please</em> remember the importance of graceful degradation when you&#8217;re making decisions about responsive web development, <em>especially</em> if you&#8217;re doing anything server side. (It&#8217;s also a demonstration of why I vastly prefer a progressive enhancement approach over a graceful degradation approach, but that&#8217;s a post for another day.) And never, ever, actively penalize your users for their choice in browser.</p>

            </div>

                           <footer id="comments">
                  <div id="respond">
								<div id="respond" class="comment-respond">
				<h3 id="reply-title" class="comment-reply-title"><h2>Pipe up!</h2> <small><a rel="nofollow" id="cancel-comment-reply-link" href="index.html#respond" style="display:none;">Opt for silence instead&uarr;</a></small></h3>
									<form action="http://chriskrycho.com/web/wp-comments-post.php" method="post" id="commentform" class="comment-form">
																			<p class="require-contact-info">Anonymity is <em>most</em> unhelpful. Please identify yourself!</p><p class="email-anonymity">(Your email will not be published.)</p>							<p class="comment-form-author"><label for="author">Name <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" aria-required='true' /></p>
<p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="text" value="" size="30" aria-required='true' /></p>
<p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="text" value="" size="30" /></p>
												<p class="comment-form-comment"><label for="comment">Comment</label> <textarea id="comment" name="comment" cols="45" rows="8" aria-required="true"></textarea></p>												<p class="form-submit">
							<input name="submit" type="submit" id="submit" value="Fire away!" />
							<input type='hidden' name='comment_post_ID' value='474' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
						</p>
						<p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="5cab48e314" /></p><!-- BEGIN: subscribe to comments reloaded --><p><label for='subscribe-reloaded'><input style='width:30px' type='checkbox' name='subscribe-reloaded' id='subscribe-reloaded' value='yes' /> Notify me of followup comments via e-mail. You can also <a href='../comment-subscriptions/index9015.html?srp=474&amp;sra=s'>subscribe</a> without commenting.</label></p><!-- END: subscribe to comments reloaded -->					</form>
							</div><!-- #respond -->
			        <script type="text/javascript">
            jQuery(document).ready(function () {
                jQuery('#commentform').submit(function () {
                    _gaq.push(
                            ['_setAccount', 'UA-10702079-9'],
                            ['_trackEvent', 'comment', 'submit']
                    );
                });
            });
        </script>
		<p class="allowed-text">You may use <a href="https://help.github.com/articles/github-flavored-markdown" target="_blank">GitHub-flavored Markdown</a> and/or these <abbr title="HyperText Markup Language">HTML</abbr> tags and attributes:<br/><code>&lt;a href=&quot;&quot; title=&quot;&quot;&gt; &lt;abbr title=&quot;&quot;&gt; &lt;acronym title=&quot;&quot;&gt; &lt;b&gt; &lt;blockquote cite=&quot;&quot;&gt; &lt;cite&gt; &lt;code&gt; &lt;del datetime=&quot;&quot;&gt; &lt;em&gt; &lt;i&gt; &lt;q cite=&quot;&quot;&gt; &lt;strike&gt; &lt;strong&gt; </code></p>                  </div>
               </footer>

         </article>            <nav id="page-nav">
         <ul>
            <li class="newer">
               <a href="../platforms-and-data-or-why-google-needs-hootsuite/index.html" rel="next">&larr; back to the future</a>            </li>
            <li class="home"><a href="../index.html">&ndash;Home&ndash;</a></li>
            <li class="older">
               <a href="../youll-pay-more-tomorrow/index.html" rel="prev">into the past &rarr;</a>            </li>
         </ul>
      </nav>
         </div>      <footer id="site-footer">

            <nav id="supersite-nav" class="footer-block">
         <h1>Navigate</h1>
         <ul>
            <li>
               <h2>Search this site:</h2>
               
<form role="search" class="customform" method="get" action="http://chriskrycho.com/web/">
   <input type="text" value="" name="search" id="search" placeholder="discover something"/>
   <input type="submit" id="searchsubmit" value="&rarr;" />
</form>            </li>
            <li>
               <a href="../../index.html">Home</a><br/>
               <i>Creativity, reflection, & passionate endeavors.</i>
            </li>
            <li>
               <a href="../index.html">Designgineering</a><br/>
               <i>Web design & development.</i>
            </li>
            <li>
               <a href="../../theology/index.html">Ardent Fidelity</a><br/>
               <i>Reflections on a Christ-centered life.</i>
            </li>
            <li>
               <a href="../../art/index.html">Ars Artis</a><br/>
               <i>Creations & musings on creativity.</i>
            </li>
            <li>
               <a href="../../family/index.html">From the Hearth</a><br/>
               <i>Updates on our growing family.</i>
            </li>
         </ul>
      </nav>

      <section id="connect" class="footer-block">
         <h1>Connect</h1>
         <ul>
            <li><h2>Opt for emails:</h2>			<div class="textwidget"><form class="customform" action="http://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open('http://feedburner.google.com/fb/a/mailverify?uri=chriskrycho/web', 'popupwindow', 'scrollbars=yes,width=550,height=520');return true">
<input type="text" name="email" placeholder="your.name@domain.com"/>
<input type="hidden" value="chriskrycho/web" name="uri"/>
<input type="hidden" name="loc" value="en_US"/>
<input type="submit" value="&rarr;" />
</form></div>
		</li>            <li>
               <a href="../feed/index.html" title="RSS feed" target="_blank">RSS/Atom</a><br/>
               <i>To the feed reader, quick!</i>
            </li>
            <li>
               <a href='https://alpha.app.net/chriskrycho' rel='me' data-type='follow' data-user-id='@chriskrycho' title="app.net/chriskrycho">App.net</a><br/>
               <i>Less noisy, more characters.</i>
            </li>
            <li>
               <a href="#" class="email-link" title="chris|@|chriskrycho|.|com" target="_blank">Email</a><br/>
               <i>Send me a letter. But without the paper.</i>
            </li>
            <li>
               <a href="http://www.facebook.com/chriskrycho" title="facebook.com/chriskrycho" target="_blank">Facebook</a><br/>
               <i>Fun party meets family get-together.</i>
            </li>
            <li>
               <a href="https://plus.google.com/100517719789069874571/" title="Google+ profile" target="_blank">Google+</a><br/>
               <i>The nerdy new kid on the block.</i>
            </li>
            <li>
               <a href="http://www.goodreads.com/user/show/3165223-chris-krycho" title="Goodreads profile" target="_blank">Goodreads</a><br/>
               <i>A bookshelf, in cyberspace!</i>
            </li>
            <li>
               <a href="http://www.linkedin.com/in/chriskrycho" title="LinkedIn Profile" target="_blank">LinkedIn</a><br/>
               <i>A place for professional professionals.</i>
            </li>
            <li>
               <a href="http://nosegue.tumblr.com/">No Segue</a><br/>
               <i>A Tumblr about technology</i>
            </li>
            <li>
               <a href="http://www.twitter.com/chriskrycho" title="twitter.com/chriskrycho" target="_blank">Twitter</a><br/>
               <i>Your spastic journalist neighbors.</i>
            </li>
            <li>
               <a href="http://about.me/chriskrycho" title="About.me profile" target="_blank">About.me</a><br/>
               <i>Biographical sundries & links galore!</i>
            </li>
            <li>
               <a href="http://www.runningahead.com/logs/2667b469aeda433382cbcc8ed413d964/profile" target="_blank">RunningAhead</a><br/>
               <i>I run and run and run some more.</i>
            </li>
         </ul>
      </section>

      <section id="read" class="footer-block">
         <h1>Read</h1>
         <div class="eg-archives-columns"><ul>	<li><a href='../2013/12/index.html'>December 2013</a></li>
	<li><a href='../2013/10/index.html'>October 2013</a></li>
	<li><a href='../2013/09/index.html'>September 2013</a></li>
	<li><a href='../2013/08/index.html'>August 2013</a></li>
	<li><a href='../2013/06/index.html'>June 2013</a></li>
	<li><a href='../2013/05/index.html'>May 2013</a></li>
	<li><a href='../2013/03/index.html'>March 2013</a></li>
	<li><a href='../2013/02/index.html'>February 2013</a></li>
	<li><a href='../2013/01/index.html'>January 2013</a></li>
	<li><a href='../2012/12/index.html'>December 2012</a></li>
	<li><a href='../2012/11/index.html'>November 2012</a></li>
</ul><ul>
	<li><a href='../2012/10/index.html'>October 2012</a></li>
	<li><a href='../2012/09/index.html'>September 2012</a></li>
	<li><a href='../2012/08/index.html'>August 2012</a></li>
	<li><a href='../2012/07/index.html'>July 2012</a></li>
	<li><a href='../2012/06/index.html'>June 2012</a></li>
	<li><a href='../2012/05/index.html'>May 2012</a></li>
	<li><a href='../2012/04/index.html'>April 2012</a></li>
	<li><a href='../2012/03/index.html'>March 2012</a></li>
	<li><a href='../2012/02/index.html'>February 2012</a></li>
	<li><a href='../2012/01/index.html'>January 2012</a></li></ul></div>      </section>

      <section id="discuss" class="footer-block">
         <h1>Discuss</h1>
         <h2></h2><ul><li><a href="../python-homebrew-virtualenv-os-x-framework-builds/index.html#comment-16469">Josh, another bit of follow-up. As noted in my prev...</a> &ndash; Chris Krycho <i>on <a href="../python-homebrew-virtualenv-os-x-framework-builds/index.html">Python—homebrew, virtualenv, and OS X Framework builds</a></i></li><li><a href="../modular-scales-fantastic-but-dont-overdo-it/index.html#comment-15318">z6305

c17217

R10941
</a> &ndash; VedqueltWeree <i>on <a href="../modular-scales-fantastic-but-dont-overdo-it/index.html">Modular scales: fantastic, but don't overdo it</a></i></li><li><a href="../python-homebrew-virtualenv-os-x-framework-builds/index.html#comment-15073">My pleasure. However, fair warning: I just discover...</a> &ndash; Chris Krycho <i>on <a href="../python-homebrew-virtualenv-os-x-framework-builds/index.html">Python—homebrew, virtualenv, and OS X Framework builds</a></i></li><li><a href="../python-homebrew-virtualenv-os-x-framework-builds/index.html#comment-14916">Thank you.  This was a source of much frustration.
...</a> &ndash; Josh Baylin <i>on <a href="../python-homebrew-virtualenv-os-x-framework-builds/index.html">Python—homebrew, virtualenv, and OS X Framework builds</a></i></li><li><a href="../jira-confluence-intranets-and-windows-firewall/index.html#comment-11602">Thank you so much for this awesome post! I've been ...</a> &ndash; Henrik Olsen <i>on <a href="../jira-confluence-intranets-and-windows-firewall/index.html">JIRA, Confluence, Intranets and Windows Firewall</a></i></li></ul>      </section>

      <section id="colophon" class="colophon footer-block">
         <h1>Colophon</h1>
         <p>
            &copy;2012&ndash;2014 Chris Krycho         </p>
               </section>
   </footer>
   <!-- MathJax Latex Plugin installed: Disabled as no shortcodes on this page --><script src="http://bible.logos.com/jsapi/Referencetagging.js" type="text/javascript"></script>
<script type="text/javascript">
			Logos.ReferenceTagging.lbsBibleVersion = "";
			Logos.ReferenceTagging.lbsLibronixBibleVersion = "";
									Logos.ReferenceTagging.lbsLibronixLinkIcon = "";
			Logos.ReferenceTagging.lbsNoSearchClassNames = [ "commentlist" ];			Logos.ReferenceTagging.lbsUseTooltip = false;			Logos.ReferenceTagging.lbsNoSearchTagNames = [  ];
															Logos.ReferenceTagging.tag();
		</script>
   <script src='https://d2zh9g63fcvyrq.cloudfront.net/adn.js'></script>
</body>

<!-- Mirrored from chriskrycho.com/web/user-agent-detection-will-get-you-in-trouble/ by HTTrack Website Copier/3.x [XR&CO'2013], Wed, 01 Jan 2014 03:13:38 GMT -->
</html>